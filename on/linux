set(BUILD_TEST 1)
set(LINUX_TARGET_DIR ${CMAKE_CURRENT_SOURCE_DIR}/target/linux)
set(target_SRCS 
	${LINUX_TARGET_DIR}/linux.c
)

add_definitions( -DHAS_SAFE_BUTTON )
add_definitions( -DHAS_TEARING_SIMULATION )
add_definitions( -DHAS_PRINTF )

set(target_include_sys_c_DIRS 
	${LINUX_TARGET_DIR}
)

set(CMAKE_AR_O_EXT                  "o")

set(LFTL_ACCESSORS ${CMAKE_CURRENT_LIST_DIR}/../target/linux/linux-accessors.c)
set(LFTL_ACCESSORS_INCLUDES )

#match STM32U5
#add_definitions(-DLFTL_PAGE_SIZE=8*1024)
#add_definitions(-DLFTL_WU_SIZE=16)
#match STM32L5
#add_definitions(-DLFTL_PAGE_SIZE=2*1024)
#add_definitions(-DLFTL_WU_SIZE=8)
#match CH32V307
add_definitions(-DLFTL_PAGE_SIZE=4*1024)
add_definitions(-DLFTL_WU_SIZE=2)